### AWS를 사용하기 위한 도구
AWS는 클라우드 서비스이므로 종량제 요금제가 기본
- 필요한 만큼만 사용해야 한다는 의미이다.
- AWS의 어떤 서비스를 어느정도로 사용할 것인지 적절하게 선택해야 함
- 항상 자신에게 최적화된 상태로 관리하는 것이 클라우드를 잘 사용하는 것

### AWS의 종합 관리 기능

AWS는 여러가지 서비스를 종합적으로 관리할 수 있는 기능을 제공한다.

- 관리 콘솔 : 서비스 설정 화면이다.
- CLI : 명령어로 조작 가능한 명령줄 도구이다. 관리 콘솔에서 할 수 없는 것도 가능하다.
- IAM : 서비스 사용을 위한 사용자 계정이다. 그룹 & 정책 등을 일괄 관리할 수 있다.
- 비용 관리 : 비용을 여러가지 방법으로 확인할 수 있다. 예산을 설정하고 관리할 수 있다.
- CloudWatch : 감시 도구이다. 임계 값을 넘는 경우 조치를 취할 수 있다.

### 관리 콘솔

![aws16.png](image%2Faws16.png)

관리 콘솔은 AWS 서비스를 관리하는 사용자 화면(사용자 환경)이다.
- 서비스 별로 고유 화면(대시보드)이 있다.
- 서비스 설정, 리전 선택, AWS 계정관리, 필요한 서비스 & 리소스 그룹의 검색 및 사용 등 다양한 관리를 수행한다.
- Amazon Console 모바일 앱도 지원한다.

#### 리전 선택

관리 콘솔은 지역을 대표하는 리전 단위로 조작한다.
- OO 리전과 XX 리전의 EC2는 다른 것으로 간주된다.
- AWS 계정 로그인 시 화면 우측 상단 메뉴에서 사용하고 싶은 리전으로 전환 가능하다.
- 리전에 따라 사용가능한 서비스의 종류가 다르다.

#### 대시보드

서비스를 조작할 수 있는 화면을 대시보드라고 한다.
- EC2의 -> EC2 대시보드, S3 -> S3 대시보드
- 대부분 한국어 지원

### AWS IAM

AWS IAM은 Identify and Access Management(ID와 접속 관리)의 약어로 AWS의 인증 기능이다.
- AWS 계정은 계약을 관리하는 계정인데 반해, IAM은 각 서비스에 대한 접속을 관리하는 기능이다.
- 사람에 대해 부여하는 IAM을 **IAM 사용자**라고 한다.
- 서비스나 프로그램 등에 부여하는 IAM은 **IAM 역할**이다.
- IAM 자체는 추가 요금이 없다.
- AWS는 사용자 인증에 **MFA(Multi-Factor Authentication)**를 사용할 것을 권장한다.

#### IAM 그룹과 IAM 정책

사용자는 **IAM 그룹**으로 그룹화가 가능한데, 그룹화하면 같은 권한을 부여하고 싶은 사용자를 일괄적으로 관리할 수 있다.

![aws17.png](image%2Faws17.png)

**IAM 정책**은 실행자(사용자, 역할, 그룹)가 어떤 서비스에 접속할 수 있는지 정해진 규칙을 설정하는 기능이다.
- 정책을 설정 후 사용자에게 적용하는 방식으로 사용한다.
- 따라서 권한 설정을 변경하고 싶을 때 정책만 변경하면 그 적용을 받는 사용자의 설정을 변경할 수 있다.

#### IAM 정책 설정

IAM 정책은 AWS 제공 서비스에 대해 어떤 조작(시작 및 정지, 파일 읽기 및 쓰기, 삭제 등)을 허가할지 말지를 설정하는 것이다.
- **자격 기반 정책** : 실행자가 **어떤 일을 할 수 있는가**의 형태로 설정이 가능하다.
- **리소스 기반 정책** : 조작 대상(서버 및 폴더 등)에 대해 **무엇을 허가할 것인가**의 형태로 설정할 수도 있다.

> AWS 정책 항목은 굉장히 많고 다양하기 때문에 기본적으로 미리 준비되어 있는 AWS 관리 정책을 사용하는 것이 좋다.

### Amazon CloudWatch : EC2의 리소스 상태 감시

![aws18.png](image%2Faws18.png)

**Amazon CloudWatch**는 AWS 서비스의 리소스 모니터링과 관리를 담당하는 서비스이다.
- AWS의 각 서비스에서 지표, 로그 등을 수집 & 기록한다.
- 수집한 로그가 임계 값을 넘으면 특정 동작이 일어나도록 설정해 감시 상황에 대처하는 관리가 가능하다.

#### 사용 가능 조작

**Amazon CloudWatch**로 CPU 사용률, 볼륨의 읽기 쓰기 횟수, 바이트 수, 네트워크 송수신 패킷 수 등을 감시할 수 있다.
- 감시 항목의 임계 값이 넘어갈 경우 어떤 작업을 하도록 설정할 수 있다.
- 이메일 송신, EC2 작동 제어, Auto Scaling(인스턴스 수 변경), Lamda 함수에 의한 임의 프로그램 실행 등이 있다.

Amazon CloudWatch Logs를 통해 각종 로그를 기록할 수도 있다.
- Lamda 함수를 실행할 때 로그가 기록되며, 이 로그는 범용적인 로그이다.
- Amazon EC2 인스턴스에 에이전트를 설치하면 인스턴스 내에서 임의의 로그를 기록할 수 있다.
- 필터기능, 로그 확인 화면 등도 제공한다.
- 기간 경과에 따른 로그 삭제, S3 버킷으로 로그 전송 등도 가능하다.

AWS CloudTrail이라는 감사(audit) 서비스를 활용하면 누가 어떤 리소스에 접근했는지도 기록으로 남길 수 있다.

### 리전과 가용 영역

**리전**은 간단히 말하면 데이터 센터이다. 각 리전에는 여러 가용 영역(AZ)이 각각 물리적으로 독립된 설비로 설치되어 있다.

AZ는 각각 클라우드의 독립된 파티션이며, 병용함으로써 서비스 중단을 방지한다.

#### 리전에 따른 서비스

리전에 따라 제공되는 서비스와 제공되지 않는 서비스가 있다.
- 서울 리전에서 제공되지 않는 서비스가 있는 경우가 있다.
- 이럴 경우 그 서비스만 다른 리전을 선택해 사용해야 한다.
- 서비스에 따라 다른 리전에서 더 저렴하게 제공되는 경우가 있다.
- 어떤 리전을 선택해도 대시보드에서 한국어로 조작 가능하다.

### AWS 비용 관리

AWS는 클라우드이므로 초기 비용이 적게 드는 대신 종량제 과금 방식이다.
- AWS는 비용 관리 서비스를 따로 제공하고 있다.
- 요금 납부, 사용료 모니터링, 비용 및 사용 현황 보고 등의 기능을 사용할 수 있다.